{"version":3,"sources":["assets\\Shader\\GamePlay\\PointLight\\PointLight.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C,+EAAyE;AAGzE;IAAwC,8BAAY;IAApD;QAAA,qEAuDC;QAlDG,eAAS,GAA0B,IAAI,CAAC;QAExC,eAAS,GAAG,IAAI,CAAC;QACjB,WAAK,GAAG,KAAK,CAAC;QACd,YAAM,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;IA8CzB,CAAC;IA5CG,6BAAQ,GAAR;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACjE,CAAC;IAED,8BAAS,GAAT,UAAW,KAAK;QACZ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8BAAS,GAAT,UAAW,KAAK;QACZ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAM;SACT;QAED,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QACzD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,+BAAU,GAAV,UAAY,KAAK;QACb,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAM;SACT;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,4BAAO,GAAP,UAAS,KAAK;QACV,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAM;SACT;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,6BAAQ,GAAR;QACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;YACpC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAC3D;IACL,CAAC;IAjDD;QAHC,QAAQ,CAAC;YACN,IAAI,EAAE,+BAAqB;SAC9B,CAAC;iDACsC;IALvB,UAAU;QAD9B,OAAO;OACa,UAAU,CAuD9B;IAAD,iBAAC;CAvDD,AAuDC,CAvDuC,EAAE,CAAC,SAAS,GAuDnD;kBAvDoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\nimport CustomRenderComponent from '../../../Script/CustomRenderComponent'\n\n@ccclass\nexport default class PointLight extends cc.Component {\n\n    @property({\n        type: CustomRenderComponent\n    })\n    component: CustomRenderComponent = null;\n\n    _material = null;\n    _down = false;\n    _mouse = cc.v2(0, 0);\n\n    onEnable () {\n        this._material = this.component.sharedMaterials[0];\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, this.mouseDown, this);\n        this.node.on(cc.Node.EventType.MOUSE_MOVE, this.mouseMove, this);\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.mouseLeave, this);\n        this.node.on(cc.Node.EventType.MOUSE_UP, this.mouseUp, this);\n    }\n\n    mouseDown (event) {\n        this._down = true;\n    }\n\n    mouseMove (event) {\n        if (!this._down) {\n            event.stopPropagation();\n            return\n        }\n\n        this._mouse.x = event.getLocationX() / cc.winSize.width;\n        this._mouse.y = event.getLocationY() / cc.winSize.height;\n        this.setMouse();\n    }\n\n    mouseLeave (event) {\n        if (!this._down) {\n            event.stopPropagation();\n            return\n        }\n        this._down = false;\n    }\n\n    mouseUp (event) {\n        if (!this._down) {\n            event.stopPropagation();\n            return\n        }\n        this._down = false;\n    }\n\n    setMouse () {\n        if (this.node.active && this._material) {\n            this._material.setProperty('mouse', cc.v2(this._mouse));\n        }\n    }\n}\n"]}