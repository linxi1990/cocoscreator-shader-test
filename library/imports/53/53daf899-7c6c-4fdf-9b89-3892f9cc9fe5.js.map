{"version":3,"sources":["assets\\Shader\\Texture\\PostRenderTexture\\PostRenderTexture.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,+EAAyE;AAGzE;IAA+C,qCAAY;IAA3D;QAAA,qEAwCC;QApCG,YAAM,GAAc,IAAI,CAAC;QAGzB,aAAO,GAAa,IAAI,CAAC;QAczB,aAAO,GAAoB,IAAI,CAAC;QAChC,cAAQ,GAAe,IAAI,CAAC;;IAkBhC,CAAC;IA5BG,sBAAI,qCAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAY,GAAG;YACX,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC;;;OALA;IASD,iCAAK,GAAL;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,wCAAY,GAAZ;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAE/C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE,CAAC,aAAa,EAAE,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,KAAK,EAAE,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACvE,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACvD,CAAC;IAnCD;QAHC,QAAQ,CAAC;YACN,IAAI,EAAE,EAAE,CAAC,MAAM;SAClB,CAAC;qDACuB;IAGzB;QADC,QAAQ;sDACgB;IAKzB;QAHC,QAAQ,CAAC;YACN,IAAI,EAAE,+BAAqB;SAC9B,CAAC;mDAGD;IAdgB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CAwCrC;IAAD,wBAAC;CAxCD,AAwCC,CAxC8C,EAAE,CAAC,SAAS,GAwC1D;kBAxCoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\nimport CustomRenderComponent from '../../../Script/CustomRenderComponent'\n\n@ccclass\nexport default class PostRenderTexture extends cc.Component {\n    @property({\n        type: cc.Camera\n    })\n    camera: cc.Camera = null;\n\n    @property\n    _sprite:cc.Sprite = null;\n\n    @property({\n        type: CustomRenderComponent\n    })\n    get sprite () {\n        return this._sprite;\n    }\n\n    set sprite (val) {\n        this._sprite = val;\n        this.initMaterial();\n    }\n\n    texture:cc.RenderTexture = null;\n    material:cc.Material = null;\n    start () {\n        this.initMaterial();\n    }\n\n    initMaterial () {\n        this.material = this.sprite.sharedMaterials[0];\n\n        if (!this.texture) {\n            this.texture = new cc.RenderTexture();\n            this.texture.initWithSize(cc.visibleRect.width, cc.visibleRect.height);\n            this.camera.targetTexture = this.texture;\n            this.camera.render();\n        }\n\n        this.sprite.spriteFrame = new cc.SpriteFrame(this.texture);\n        this.material.setProperty('texture', this.texture);\n    }\n}\n"]}