{"version":3,"sources":["assets\\Script\\CustomShaderUpdate.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,iEAA4D;AAG5D;IAAgD,sCAAY;IAA5D;QAAA,qEAiDC;QA9CG,gBAAU,GAAG,IAAI,CAAC;QAiBlB,WAAK,GAAG,IAAI,CAAC;QAGb,UAAI,GAAG,GAAG,CAAC;QAEX,eAAS,GAAgB,IAAI,CAAC;QAC9B,WAAK,GAAG,CAAC,CAAC;;IAuBd,CAAC;IAzCG,sBAAI,yCAAS;aAAb;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAe,IAAI;YACf,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;aACvD;QACL,CAAC;;;OAPA;IAkBD,qCAAQ,GAAR;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAED,mCAAM,GAAN,UAAO,EAAE;QACL,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SACpB;IACL,CAAC;IAED,oCAAO,GAAP,UAAQ,EAAE;QACN,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC;QACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACnD,CAAC;IAED,sCAAS,GAAT;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IA7CD;QADC,QAAQ;0DACS;IAKlB;QAHC,QAAQ,CAAC;YACN,IAAI,EAAE,+BAAqB;SAC9B,CAAC;uDAGD;IAUD;QADC,QAAQ;qDACI;IAGb;QADC,QAAQ;oDACE;IAvBM,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CAiDtC;IAAD,yBAAC;CAjDD,AAiDC,CAjD+C,EAAE,CAAC,SAAS,GAiD3D;kBAjDoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\nimport CustomRenderComponent from './CustomRenderComponent';\n\n@ccclass\nexport default class SpriteShaderUpdate extends cc.Component {\n    \n    @property\n    _component = null;\n    \n    @property({\n        type: CustomRenderComponent\n    })\n    get component () {\n        return this._component;\n    }\n\n    set component (comp) {\n        this._component = comp;\n        if (this._component) {\n            this._material = this._component.sharedMaterials[0];\n        }\n    }\n\n    @property\n    limit = 1000;\n\n    @property\n    step = 0.1;\n\n    _material: cc.Material = null;\n    _time = 0;\n\n    onEnable() {\n        if (this.component) {\n            this._material = this.component.sharedMaterials[0];\n        }\n    }\n\n    update(dt) {\n        if (this._material) {\n            this.setTime(dt);\n        }\n    }\n\n    setTime(dt) {\n        this._time += this.step;\n        this._time = this._time >= this.limit ? 0 : this._time;\n        this._material.setProperty('time', this._time);\n    }\n\n    onDisable() {\n        this._material = null;\n    }\n}\n"]}